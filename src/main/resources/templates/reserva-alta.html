<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alta de Reserva</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">Alta de Reserva</h1>

        <div class="alert alert-warning" th:if="${error}">
            No s'ha pogut donar d'alta la reserva perquè hi ha un error amb els clients o vehicles.
        </div>

        <form th:action="@{/reserva/alta}" method="post">
            <div class="mb-3">
                <label for="client" class="form-label">Client</label>
                <select id="client" name="client.dni" class="form-select" required>
                    <option th:each="client : ${clients}" th:value="${client.dni}" th:text="${client.nom + ' ' + client.cognoms}"></option>
                </select>
            </div>

            <div class="mb-3">
                <label for="vehicle" class="form-label">Vehicle</label>
                <select id="vehicle" name="vehicle.matricula" class="form-select" required>
                    <option th:each="vehicle : ${vehicles}" th:value="${vehicle.matricula}" th:text="${vehicle.marca + ' ' + vehicle.model}"></option>
                </select>
            </div>

            <div class="mb-3">
                <label for="dataInici" class="form-label">Data d'inici</label>
                <input type="date" id="dataInici" name="dataInici" class="form-control" th:value="${reserva?.dataInici}" required>
            </div>

            <div class="mb-3">
                <label for="dataFi" class="form-label">Data de fi</label>
                <input type="date" id="dataFi" name="dataFi" class="form-control" th:value="${reserva?.dataFi}" required>
            </div>

            <div class="mb-3">
                <label for="horaInici" class="form-label">Hora de lliurar: </label>
                <input type="time" id="horaInici" name="horaInici" class="form-control" th:value="${reserva?.horaInici}" required>
            </div>
            <div class="mb-3">
                <label for="horaFi" class="form-label">Hora de retorn: </label>
                <input type="time" id="horaFi" name="horaFi" class="form-control" th:value="${reserva?.horaFi}" required>
            </div>

            <div class="mb-3">
                <label for="costTotal" class="form-label">Cost Total</label>
                <input type="number" id="costTotal" name="costTotal" class="form-control" th:value="${reserva?.costTotal}" required>
            </div>

            <div class="mb-3">
                <label for="fianca" class="form-label">Fiança</label>
                <input type="number" id="fianca" name="fianca" class="form-control" th:value="${reserva?.fianca}" required>
            </div>

            <div class="mb-3 form-check">
                <input type="checkbox" id="estat" name="estat" class="form-check-input" th:checked="${reserva?.estat}">
                <label for="estat" class="form-check-label">Estat de la reserva</label>
            </div>

            <div class="d-flex justify-content-between">
                <button type="submit" class="btn btn-primary">Guardar</button>
                <a href="/reserva/llistar" class="btn btn-secondary">Cancel·lar</a>
            </div>
        </form>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>